<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documents List Display Tests - Limud AI</title>
    <style>
        body {
            font-family: 'Heebo', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            direction: rtl;
        }
        
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .test-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #3498db;
        }
        
        .test-section {
            margin: 2rem 0;
            padding: 1.5rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #f9f9f9;
        }
        
        .test-section h3 {
            color: #2c3e50;
            margin-top: 0;
        }
        
        .test-step {
            margin: 1rem 0;
            padding: 1rem;
            background: white;
            border-radius: 4px;
            border-left: 4px solid #3498db;
        }
        
        .test-result {
            margin: 0.5rem 0;
            padding: 0.5rem;
            border-radius: 4px;
            font-weight: bold;
        }
        
        .success {
            background-color: #d5f4e6;
            color: #27ae60;
            border: 1px solid #a9dfbf;
        }
        
        .error {
            background-color: #fadbd8;
            color: #e74c3c;
            border: 1px solid #f5b7b1;
        }
        
        .info {
            background-color: #d6eaf8;
            color: #2980b9;
            border: 1px solid #aed6f1;
        }
        
        .warning {
            background-color: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        
        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            margin: 0.5rem;
        }
        
        button:hover {
            background: #2980b9;
        }
        
        button:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
        }
        
        .danger {
            background: #e74c3c;
        }
        
        .danger:hover {
            background: #c0392b;
        }
        
        .success-btn {
            background: #27ae60;
        }
        
        .success-btn:hover {
            background: #229954;
        }
        
        .manual-test {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 1rem;
            border-radius: 4px;
            margin: 1rem 0;
        }
        
        .manual-test h4 {
            color: #856404;
            margin-top: 0;
        }
        
        .checklist {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 1rem;
            border-radius: 4px;
            margin: 1rem 0;
        }
        
        .checklist ul {
            margin: 0;
            padding-right: 1.5rem;
        }
        
        .checklist li {
            margin: 0.5rem 0;
        }
        
        .mock-document {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 1rem;
            margin: 0.5rem 0;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .mock-icon {
            width: 40px;
            height: 40px;
            background: #3498db;
            color: white;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.8rem;
        }
        
        .mock-info {
            flex: 1;
        }
        
        .mock-name {
            font-weight: 500;
            color: #2c3e50;
            margin-bottom: 0.25rem;
        }
        
        .mock-meta {
            font-size: 0.8rem;
            color: #6c757d;
            display: flex;
            gap: 1rem;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1>ğŸ“‹ Documents List Display Tests</h1>
            <p>×‘×“×™×§×•×ª ×ª×¦×•×’×ª ×¨×©×™××ª ××¡××›×™× ×©××•×¨×™×</p>
        </div>

        <!-- Visual Tests Section -->
        <div class="test-section">
            <h3>ğŸ‘ï¸ ×‘×“×™×§×•×ª ×—×–×•×ª×™×•×ª</h3>
            
            <div class="test-step">
                <h4>×‘×“×™×§×” 1: ×ª×¦×•×’×ª ××¡××›×™× ×¨×™×§×”</h4>
                <p>×‘×“×™×§×” ×©×›××©×¨ ××™×Ÿ ××¡××›×™× ×©××•×¨×™×, ×”×¨×›×™×‘ ×œ× ××¦×™×’ ××ª ×”×¡×§×¦×™×”</p>
                <button onclick="testEmptyDocumentsList()">×”×¨×¥ ×‘×“×™×§×”</button>
                <div id="empty-list-result"></div>
            </div>

            <div class="test-step">
                <h4>×‘×“×™×§×” 2: ×ª×¦×•×’×ª ××¡××š ×‘×•×“×“</h4>
                <p>×‘×“×™×§×” ×©××¡××š ×‘×•×“×“ ××•×¦×’ ×›×¨××•×™ ×¢× ×›×œ ×”×¤×¨×˜×™×</p>
                <button onclick="testSingleDocument()">×”×¨×¥ ×‘×“×™×§×”</button>
                <div id="single-doc-result"></div>
            </div>

            <div class="test-step">
                <h4>×‘×“×™×§×” 3: ×ª×¦×•×’×ª ××¡×¤×¨ ××¡××›×™×</h4>
                <p>×‘×“×™×§×” ×©××¡×¤×¨ ××¡××›×™× ××•×¦×’×™× ×›×¨×©×™××” ××¡×•×“×¨×ª</p>
                <button onclick="testMultipleDocuments()">×”×¨×¥ ×‘×“×™×§×”</button>
                <div id="multiple-docs-result"></div>
            </div>

            <div class="test-step">
                <h4>×‘×“×™×§×” 4: ×¡×•×’×™ ×§×‘×¦×™× ×©×•× ×™×</h4>
                <p>×‘×“×™×§×” ×©×¡×•×’×™ ×§×‘×¦×™× ×©×•× ×™× ××•×¦×’×™× ×¢× ×”××™×§×•× ×™× ×”× ×›×•× ×™×</p>
                <button onclick="testDifferentFileTypes()">×”×¨×¥ ×‘×“×™×§×”</button>
                <div id="file-types-result"></div>
            </div>

            <div class="test-step">
                <h4>×‘×“×™×§×” 5: ×¤×•×¨××˜ ×ª××¨×™×›×™×</h4>
                <p>×‘×“×™×§×” ×©×ª××¨×™×›×™ ×©××™×¨×” ××•×¦×’×™× ×‘×¤×•×¨××˜ ×¢×‘×¨×™ × ×›×•×Ÿ</p>
                <button onclick="testDateFormatting()">×”×¨×¥ ×‘×“×™×§×”</button>
                <div id="date-format-result"></div>
            </div>
        </div>

        <!-- Functionality Tests -->
        <div class="test-section">
            <h3>âš™ï¸ ×‘×“×™×§×•×ª ×¤×•× ×§×¦×™×•× ×œ×™×•×ª</h3>
            
            <div class="test-step">
                <h4>×‘×“×™×§×” 6: ××—×™×§×ª ××¡××š ××”×¨×©×™××”</h4>
                <p>×‘×“×™×§×” ×©××—×™×§×ª ××¡××š ××¢×“×›× ×ª ××ª ×”×¨×©×™××” ××™×™×“×™×ª</p>
                <button onclick="testDocumentRemoval()">×”×¨×¥ ×‘×“×™×§×”</button>
                <div id="removal-result"></div>
            </div>

            <div class="test-step">
                <h4>×‘×“×™×§×” 7: ×¢×“×›×•×Ÿ ××•× ×” ××¡××›×™×</h4>
                <p>×‘×“×™×§×” ×©××•× ×” ×”××¡××›×™× ×‘×›×•×ª×¨×ª ××ª×¢×“×›×Ÿ ×›×¨××•×™</p>
                <button onclick="testDocumentCounter()">×”×¨×¥ ×‘×“×™×§×”</button>
                <div id="counter-result"></div>
            </div>

            <div class="test-step">
                <h4>×‘×“×™×§×” 8: ×¡×“×¨ ×ª×¦×•×’×ª ××¡××›×™×</h4>
                <p>×‘×“×™×§×” ×©××¡××›×™× ××•×¦×’×™× ×‘×¡×“×¨ ×”× ×›×•×Ÿ (×œ×¤×™ ×ª××¨×™×š ×©××™×¨×”)</p>
                <button onclick="testDocumentOrder()">×”×¨×¥ ×‘×“×™×§×”</button>
                <div id="order-result"></div>
            </div>
        </div>

        <!-- Mock Display Section -->
        <div class="test-section">
            <h3>ğŸ­ ×ª×¦×•×’×” ××“×•××”</h3>
            <p>×“×•×’××” ×œ××™×š ×©×¨×©×™××ª ×”××¡××›×™× ×××•×¨×” ×œ×”×™×¨××•×ª:</p>
            
            <div style="background: white; padding: 1rem; border-radius: 4px; margin: 1rem 0;">
                <h4 style="color: #2c3e50; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                    ğŸ“š ××¡××›×™× ×©××•×¨×™× (3)
                </h4>
                
                <div class="mock-document">
                    <div class="mock-icon">PDF</div>
                    <div class="mock-info">
                        <div class="mock-name">××¦×’×ª-×©×™×¢×•×¨-××ª××˜×™×§×”.pdf</div>
                        <div class="mock-meta">
                            <span>2.5 MB</span>
                            <span>× ×©××¨: 03/09/2025</span>
                        </div>
                    </div>
                    <button class="danger" style="padding: 0.5rem 1rem; font-size: 0.8rem;">××—×§</button>
                </div>
                
                <div class="mock-document">
                    <div class="mock-icon">DOCX</div>
                    <div class="mock-info">
                        <div class="mock-name">×ª×›× ×™×ª-×œ×™××•×“×™×-×©× ×ª×™×ª.docx</div>
                        <div class="mock-meta">
                            <span>1.8 MB</span>
                            <span>× ×©××¨: 02/09/2025</span>
                        </div>
                    </div>
                    <button class="danger" style="padding: 0.5rem 1rem; font-size: 0.8rem;">××—×§</button>
                </div>
                
                <div class="mock-document">
                    <div class="mock-icon">XLSX</div>
                    <div class="mock-info">
                        <div class="mock-name">×¦×™×•× ×™×-×ª×œ××™×“×™×.xlsx</div>
                        <div class="mock-meta">
                            <span>856 KB</span>
                            <span>× ×©××¨: 01/09/2025</span>
                        </div>
                    </div>
                    <button class="danger" style="padding: 0.5rem 1rem; font-size: 0.8rem;">××—×§</button>
                </div>
            </div>
        </div>

        <!-- Manual Tests Section -->
        <div class="test-section">
            <h3>ğŸ‘¤ ×‘×“×™×§×•×ª ×™×“× ×™×•×ª</h3>
            
            <div class="manual-test">
                <h4>×‘×“×™×§×” ×™×“× ×™×ª 1: ×ª×¦×•×’×ª ×¨×©×™××” ×‘×¡×™×¡×™×ª</h4>
                <ol>
                    <li>×¤×ª×— ××ª TeacherDashboard ×•×¢×‘×•×¨ ×œ×˜××‘ Documents</li>
                    <li>×”×¢×œ×” ×•×©××•×¨ ××¡×¤×¨ ××¡××›×™× ××¡×•×’×™× ×©×•× ×™×</li>
                    <li>×‘×“×•×§ ×©×”×¨×©×™××” ××•×¦×’×ª ×ª×—×ª ×”×›×•×ª×¨×ª "××¡××›×™× ×©××•×¨×™×"</li>
                    <li>×•×•×“× ×©×›×œ ××¡××š ××•×¦×’ ×¢× ×©×, ×’×•×“×œ ×•×ª××¨×™×š</li>
                </ol>
                <div class="checklist">
                    <strong>×¨×©×™××ª ×‘×“×™×§×”:</strong>
                    <ul>
                        <li>âœ… ×›×•×ª×¨×ª "××¡××›×™× ×©××•×¨×™×" ××•×¦×’×ª</li>
                        <li>âœ… ××•× ×” ××¡××›×™× × ×›×•×Ÿ ×‘×›×•×ª×¨×ª</li>
                        <li>âœ… ×›×œ ××¡××š ××•×¦×’ ×‘×§×•×¤×¡×” × ×¤×¨×“×ª</li>
                        <li>âœ… ××™×§×•×Ÿ ×¡×•×’ ×§×•×‘×¥ ××•×¦×’</li>
                        <li>âœ… ×©× ×”×§×•×‘×¥ ××•×¦×’</li>
                        <li>âœ… ×’×•×“×œ ×”×§×•×‘×¥ ××•×¦×’</li>
                        <li>âœ… ×ª××¨×™×š ×”×©××™×¨×” ××•×¦×’</li>
                        <li>âœ… ×›×¤×ª×•×¨ ××—×™×§×” ××•×¦×’</li>
                    </ul>
                </div>
            </div>

            <div class="manual-test">
                <h4>×‘×“×™×§×” ×™×“× ×™×ª 2: ×¤×•× ×§×¦×™×•× ×œ×™×•×ª ××—×™×§×”</h4>
                <ol>
                    <li>×©××•×¨ ××¡×¤×¨ ××¡××›×™×</li>
                    <li>×œ×—×¥ ×¢×œ ×›×¤×ª×•×¨ "××—×§" ×©×œ ××¡××š ××—×“</li>
                    <li>×‘×“×•×§ ×©×”××¡××š × ×¢×œ× ××”×¨×©×™××” ××™×™×“×™×ª</li>
                    <li>×‘×“×•×§ ×©××•× ×” ×”××¡××›×™× ×‘×›×•×ª×¨×ª ×”×ª×¢×“×›×Ÿ</li>
                    <li>×‘×“×•×§ ×©×”×•×“×¢×ª ×”×¦×œ×—×” ××•×¦×’×ª</li>
                </ol>
                <div class="checklist">
                    <strong>×¨×©×™××ª ×‘×“×™×§×”:</strong>
                    <ul>
                        <li>âœ… ×”××¡××š × ×¢×œ× ××”×¨×©×™××”</li>
                        <li>âœ… ×”××•× ×” ×‘×›×•×ª×¨×ª ×”×ª×¢×“×›×Ÿ</li>
                        <li>âœ… ×”×•×“×¢×ª "×”××¡××š × ××—×§ ×‘×”×¦×œ×—×”" ××•×¦×’×ª</li>
                        <li>âœ… ×©××¨ ×”××¡××›×™× × ×•×ª×¨×• ×‘×¨×©×™××”</li>
                    </ul>
                </div>
            </div>

            <div class="manual-test">
                <h4>×‘×“×™×§×” ×™×“× ×™×ª 3: ×ª×¦×•×’×” ×¨×™×§×”</h4>
                <ol>
                    <li>××—×§ ××ª ×›×œ ×”××¡××›×™× ×”×©××•×¨×™×</li>
                    <li>×‘×“×•×§ ×©×¡×§×¦×™×™×ª "××¡××›×™× ×©××•×¨×™×" ×œ× ××•×¦×’×ª</li>
                    <li>×¨×¢× ×Ÿ ××ª ×”×“×£ ×•×‘×“×•×§ ×©×”×¡×§×¦×™×” ×¢×“×™×™×Ÿ ×œ× ××•×¦×’×ª</li>
                </ol>
                <div class="checklist">
                    <strong>×¨×©×™××ª ×‘×“×™×§×”:</strong>
                    <ul>
                        <li>âœ… ×¡×§×¦×™×™×ª ××¡××›×™× ×©××•×¨×™× ×œ× ××•×¦×’×ª</li>
                        <li>âœ… ××™×Ÿ ×›×•×ª×¨×ª "××¡××›×™× ×©××•×¨×™×"</li>
                        <li>âœ… ×œ××—×¨ ×¨×¢× ×•×Ÿ ×”×“×£ ×”×¡×§×¦×™×” ×¢×“×™×™×Ÿ ×œ× ××•×¦×’×ª</li>
                    </ul>
                </div>
            </div>

            <div class="manual-test">
                <h4>×‘×“×™×§×” ×™×“× ×™×ª 4: ×¢×™×¦×•×‘ ×•×ª×¦×•×’×”</h4>
                <ol>
                    <li>×©××•×¨ ××¡××›×™× ××¡×•×’×™× ×©×•× ×™× (PDF, DOCX, XLSX, ×•×›×•')</li>
                    <li>×‘×“×•×§ ×©×›×œ ×¡×•×’ ×§×•×‘×¥ ××•×¦×’ ×¢× ×”××™×§×•×Ÿ ×”× ×›×•×Ÿ</li>
                    <li>×‘×“×•×§ ×©×”×ª××¨×™×›×™× ××•×¦×’×™× ×‘×¢×‘×¨×™×ª</li>
                    <li>×‘×“×•×§ ×©×”×¢×™×¦×•×‘ ×¢×§×‘×™ ×•× ×¨××” ×˜×•×‘</li>
                </ol>
                <div class="checklist">
                    <strong>×¨×©×™××ª ×‘×“×™×§×”:</strong>
                    <ul>
                        <li>âœ… ××™×§×•× ×™ ×§×‘×¦×™× × ×›×•× ×™× (PDF, DOCX, XLSX, ×•×›×•')</li>
                        <li>âœ… ×ª××¨×™×›×™× ×‘×¤×•×¨××˜ ×¢×‘×¨×™ (DD/MM/YYYY)</li>
                        <li>âœ… ×’×“×œ×™ ×§×‘×¦×™× ×‘×¤×•×¨××˜ ×§×¨×™× (KB, MB)</li>
                        <li>âœ… ×¢×™×¦×•×‘ ×¢×§×‘×™ ×•××¡×•×“×¨</li>
                        <li>âœ… ×›×¤×ª×•×¨×™ ××—×™×§×” ×‘×¦×‘×¢ ××“×•×</li>
                        <li>âœ… ×¨×•×•×—×™× × ×›×•× ×™× ×‘×™×Ÿ ××œ×× ×˜×™×</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Test Controls -->
        <div class="test-section">
            <h3>ğŸ”§ ×‘×§×¨×•×ª ×‘×“×™×§×”</h3>
            <button onclick="runAllDisplayTests()">×”×¨×¥ ××ª ×›×œ ×‘×“×™×§×•×ª ×”×ª×¦×•×’×”</button>
            <button onclick="createVariedTestData()" class="success-btn">×¦×•×¨ × ×ª×•× ×™ ×‘×“×™×§×” ××’×•×•× ×™×</button>
            <button onclick="clearAllDocuments()" class="danger">× ×§×” ××ª ×›×œ ×”××¡××›×™×</button>
            <div id="display-controls-result"></div>
        </div>
    </div>

    <script>
        const STORAGE_KEY = 'limud-ai-documents';
        
        function logResult(elementId, message, type = 'info') {
            const element = document.getElementById(elementId);
            const resultDiv = document.createElement('div');
            resultDiv.className = `test-result ${type}`;
            resultDiv.innerHTML = message;
            element.appendChild(resultDiv);
        }

        function clearResults(elementId) {
            document.getElementById(elementId).innerHTML = '';
        }

        // Test 1: Empty documents list
        function testEmptyDocumentsList() {
            clearResults('empty-list-result');
            
            try {
                // Clear any existing documents
                localStorage.removeItem(STORAGE_KEY);
                
                // Check that no documents exist
                const documents = localStorage.getItem(STORAGE_KEY);
                
                if (!documents) {
                    logResult('empty-list-result', 'âœ… ××™×Ÿ ××¡××›×™× ×‘-localStorage', 'success');
                    logResult('empty-list-result', 'ğŸ“‹ ×”×¨×›×™×‘ ×××•×¨ ×œ×”×¡×ª×™×¨ ××ª ×¡×§×¦×™×™×ª ×”××¡××›×™× ×”×©××•×¨×™×', 'info');
                } else {
                    logResult('empty-list-result', 'âŒ ×¢×“×™×™×Ÿ ×™×© ××¡××›×™× ×‘-localStorage', 'error');
                }
                
            } catch (error) {
                logResult('empty-list-result', `âŒ ×©×’×™××” ×‘×‘×“×™×§×”: ${error.message}`, 'error');
            }
        }

        // Test 2: Single document display
        function testSingleDocument() {
            clearResults('single-doc-result');
            
            try {
                const singleDoc = [{
                    id: Date.now(),
                    name: '××¡××š-×‘×“×™×§×”-×™×—×™×“.pdf',
                    size: 1500000,
                    type: 'application/pdf',
                    savedAt: new Date().toISOString()
                }];

                localStorage.setItem(STORAGE_KEY, JSON.stringify(singleDoc));
                
                logResult('single-doc-result', 'âœ… × ×•×¦×¨ ××¡××š ×‘×“×™×§×” ×™×—×™×“', 'success');
                logResult('single-doc-result', `ğŸ“„ ×©×: ${singleDoc[0].name}`, 'info');
                logResult('single-doc-result', `ğŸ“Š ×’×•×“×œ: ${(singleDoc[0].size / 1024 / 1024).toFixed(2)} MB`, 'info');
                logResult('single-doc-result', `ğŸ“… ×ª××¨×™×š: ${new Date(singleDoc[0].savedAt).toLocaleDateString('he-IL')}`, 'info');
                
            } catch (error) {
                logResult('single-doc-result', `âŒ ×©×’×™××” ×‘×‘×“×™×§×”: ${error.message}`, 'error');
            }
        }

        // Test 3: Multiple documents display
        function testMultipleDocuments() {
            clearResults('multiple-docs-result');
            
            try {
                const multipleDocs = [
                    {
                        id: Date.now() + 1,
                        name: '××¡××š-×¨××©×•×Ÿ.pdf',
                        size: 1000000,
                        type: 'application/pdf',
                        savedAt: new Date(Date.now() - 86400000).toISOString() // Yesterday
                    },
                    {
                        id: Date.now() + 2,
                        name: '××¡××š-×©× ×™.docx',
                        size: 2000000,
                        type: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',
                        savedAt: new Date().toISOString() // Today
                    },
                    {
                        id: Date.now() + 3,
                        name: '××¡××š-×©×œ×™×©×™.xlsx',
                        size: 500000,
                        type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
                        savedAt: new Date(Date.now() - 172800000).toISOString() // 2 days ago
                    }
                ];

                localStorage.setItem(STORAGE_KEY, JSON.stringify(multipleDocs));
                
                logResult('multiple-docs-result', `âœ… × ×•×¦×¨×• ${multipleDocs.length} ××¡××›×™ ×‘×“×™×§×”`, 'success');
                logResult('multiple-docs-result', 'ğŸ“‹ ×”×¨×›×™×‘ ×××•×¨ ×œ×”×¦×™×’ ×¨×©×™××” ×©×œ 3 ××¡××›×™×', 'info');
                logResult('multiple-docs-result', 'ğŸ”¢ ×”×›×•×ª×¨×ª ×××•×¨×” ×œ×”×¦×™×’ "××¡××›×™× ×©××•×¨×™× (3)"', 'info');
                
            } catch (error) {
                logResult('multiple-docs-result', `âŒ ×©×’×™××” ×‘×‘×“×™×§×”: ${error.message}`, 'error');
            }
        }

        // Test 4: Different file types
        function testDifferentFileTypes() {
            clearResults('file-types-result');
            
            try {
                const fileTypes = [
                    { ext: 'PDF', name: '××¡××š.pdf', type: 'application/pdf' },
                    { ext: 'DOCX', name: '××¡××š.docx', type: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document' },
                    { ext: 'XLSX', name: '××¡××š.xlsx', type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' },
                    { ext: 'PPTX', name: '××¡××š.pptx', type: 'application/vnd.openxmlformats-officedocument.presentationml.presentation' },
                    { ext: 'TXT', name: '××¡××š.txt', type: 'text/plain' },
                    { ext: 'JPG', name: '×ª××•× ×”.jpg', type: 'image/jpeg' }
                ];

                const docs = fileTypes.map((fileType, index) => ({
                    id: Date.now() + index,
                    name: fileType.name,
                    size: Math.floor(Math.random() * 5000000) + 100000,
                    type: fileType.type,
                    savedAt: new Date().toISOString()
                }));

                localStorage.setItem(STORAGE_KEY, JSON.stringify(docs));
                
                logResult('file-types-result', `âœ… × ×•×¦×¨×• ${docs.length} ×§×‘×¦×™× ××¡×•×’×™× ×©×•× ×™×`, 'success');
                fileTypes.forEach(fileType => {
                    logResult('file-types-result', `ğŸ“„ ${fileType.ext}: ${fileType.name}`, 'info');
                });
                logResult('file-types-result', 'ğŸ¨ ×‘×“×•×§ ×©×›×œ ×¡×•×’ ×§×•×‘×¥ ××•×¦×’ ×¢× ×”××™×§×•×Ÿ ×”× ×›×•×Ÿ', 'warning');
                
            } catch (error) {
                logResult('file-types-result', `âŒ ×©×’×™××” ×‘×‘×“×™×§×”: ${error.message}`, 'error');
            }
        }

        // Test 5: Date formatting
        function testDateFormatting() {
            clearResults('date-format-result');
            
            try {
                const now = new Date();
                const yesterday = new Date(now.getTime() - 86400000);
                const lastWeek = new Date(now.getTime() - 7 * 86400000);

                const docs = [
                    {
                        id: 1,
                        name: '××¡××š-×”×™×•×.pdf',
                        size: 1000000,
                        type: 'application/pdf',
                        savedAt: now.toISOString()
                    },
                    {
                        id: 2,
                        name: '××¡××š-××ª××•×œ.pdf',
                        size: 1000000,
                        type: 'application/pdf',
                        savedAt: yesterday.toISOString()
                    },
                    {
                        id: 3,
                        name: '××¡××š-×©×‘×•×¢-×©×¢×‘×¨.pdf',
                        size: 1000000,
                        type: 'application/pdf',
                        savedAt: lastWeek.toISOString()
                    }
                ];

                localStorage.setItem(STORAGE_KEY, JSON.stringify(docs));
                
                logResult('date-format-result', 'âœ… × ×•×¦×¨×• ××¡××›×™× ×¢× ×ª××¨×™×›×™× ×©×•× ×™×', 'success');
                logResult('date-format-result', `ğŸ“… ×”×™×•×: ${now.toLocaleDateString('he-IL')}`, 'info');
                logResult('date-format-result', `ğŸ“… ××ª××•×œ: ${yesterday.toLocaleDateString('he-IL')}`, 'info');
                logResult('date-format-result', `ğŸ“… ×©×‘×•×¢ ×©×¢×‘×¨: ${lastWeek.toLocaleDateString('he-IL')}`, 'info');
                logResult('date-format-result', 'ğŸ” ×‘×“×•×§ ×©×”×ª××¨×™×›×™× ××•×¦×’×™× ×‘×¤×•×¨××˜ ×¢×‘×¨×™ × ×›×•×Ÿ', 'warning');
                
            } catch (error) {
                logResult('date-format-result', `âŒ ×©×’×™××” ×‘×‘×“×™×§×”: ${error.message}`, 'error');
            }
        }

        // Test 6: Document removal
        function testDocumentRemoval() {
            clearResults('removal-result');
            
            try {
                // Create initial documents
                const initialDocs = [
                    { id: 1, name: '××¡××š-1.pdf', size: 1000000, type: 'application/pdf', savedAt: new Date().toISOString() },
                    { id: 2, name: '××¡××š-2.pdf', size: 2000000, type: 'application/pdf', savedAt: new Date().toISOString() },
                    { id: 3, name: '××¡××š-3.pdf', size: 3000000, type: 'application/pdf', savedAt: new Date().toISOString() }
                ];

                localStorage.setItem(STORAGE_KEY, JSON.stringify(initialDocs));
                logResult('removal-result', 'âœ… × ×•×¦×¨×• 3 ××¡××›×™× ×¨××©×•× ×™×™×', 'success');

                // Simulate removal of middle document
                const updatedDocs = initialDocs.filter(doc => doc.id !== 2);
                localStorage.setItem(STORAGE_KEY, JSON.stringify(updatedDocs));

                const remainingDocs = JSON.parse(localStorage.getItem(STORAGE_KEY));
                
                if (remainingDocs.length === 2 && !remainingDocs.find(doc => doc.id === 2)) {
                    logResult('removal-result', 'âœ… ××¡××š × ××—×§ ×‘×”×¦×œ×—×” ××”××—×¡×•×Ÿ', 'success');
                    logResult('removal-result', `ğŸ“Š × ×•×ª×¨×• ${remainingDocs.length} ××¡××›×™×`, 'info');
                    logResult('removal-result', 'ğŸ”„ ×”×¨×›×™×‘ ×××•×¨ ×œ×¢×“×›×Ÿ ××ª ×”×ª×¦×•×’×” ××™×™×“×™×ª', 'warning');
                } else {
                    logResult('removal-result', 'âŒ ×©×’×™××” ×‘××—×™×§×ª ×”××¡××š', 'error');
                }
                
            } catch (error) {
                logResult('removal-result', `âŒ ×©×’×™××” ×‘×‘×“×™×§×”: ${error.message}`, 'error');
            }
        }

        // Test 7: Document counter
        function testDocumentCounter() {
            clearResults('counter-result');
            
            try {
                // Test different counts
                const testCounts = [0, 1, 5, 10];
                
                testCounts.forEach(count => {
                    const docs = [];
                    for (let i = 0; i < count; i++) {
                        docs.push({
                            id: i + 1,
                            name: `××¡××š-${i + 1}.pdf`,
                            size: 1000000,
                            type: 'application/pdf',
                            savedAt: new Date().toISOString()
                        });
                    }
                    
                    localStorage.setItem(STORAGE_KEY, JSON.stringify(docs));
                    logResult('counter-result', `âœ… × ×•×¦×¨×• ${count} ××¡××›×™× - ×”×›×•×ª×¨×ª ×××•×¨×” ×œ×”×¦×™×’ "(${count})"`, 'info');
                });
                
                logResult('counter-result', 'âœ… ×‘×“×™×§×ª ××•× ×” ××¡××›×™× ×”×•×©×œ××”', 'success');
                
            } catch (error) {
                logResult('counter-result', `âŒ ×©×’×™××” ×‘×‘×“×™×§×”: ${error.message}`, 'error');
            }
        }

        // Test 8: Document order
        function testDocumentOrder() {
            clearResults('order-result');
            
            try {
                const now = Date.now();
                const docs = [
                    {
                        id: 1,
                        name: '××¡××š-×™×©×Ÿ.pdf',
                        size: 1000000,
                        type: 'application/pdf',
                        savedAt: new Date(now - 172800000).toISOString() // 2 days ago
                    },
                    {
                        id: 2,
                        name: '××¡××š-×—×“×©.pdf',
                        size: 1000000,
                        type: 'application/pdf',
                        savedAt: new Date(now).toISOString() // Now
                    },
                    {
                        id: 3,
                        name: '××¡××š-×××¦×¢.pdf',
                        size: 1000000,
                        type: 'application/pdf',
                        savedAt: new Date(now - 86400000).toISOString() // Yesterday
                    }
                ];

                localStorage.setItem(STORAGE_KEY, JSON.stringify(docs));
                
                logResult('order-result', 'âœ… × ×•×¦×¨×• ××¡××›×™× ×¢× ×ª××¨×™×›×™× ×©×•× ×™×', 'success');
                logResult('order-result', 'ğŸ“… ×¡×“×¨ ×¦×¤×•×™: ×—×“×© ×‘×™×•×ª×¨ â†’ ×™×©×Ÿ ×‘×™×•×ª×¨', 'info');
                logResult('order-result', `1. ${docs[1].name} (${new Date(docs[1].savedAt).toLocaleDateString('he-IL')})`, 'info');
                logResult('order-result', `2. ${docs[2].name} (${new Date(docs[2].savedAt).toLocaleDateString('he-IL')})`, 'info');
                logResult('order-result', `3. ${docs[0].name} (${new Date(docs[0].savedAt).toLocaleDateString('he-IL')})`, 'info');
                
            } catch (error) {
                logResult('order-result', `âŒ ×©×’×™××” ×‘×‘×“×™×§×”: ${error.message}`, 'error');
            }
        }

        // Run all display tests
        function runAllDisplayTests() {
            clearResults('display-controls-result');
            logResult('display-controls-result', 'ğŸš€ ××¨×™×¥ ××ª ×›×œ ×‘×“×™×§×•×ª ×”×ª×¦×•×’×”...', 'info');
            
            setTimeout(() => testEmptyDocumentsList(), 100);
            setTimeout(() => testSingleDocument(), 200);
            setTimeout(() => testMultipleDocuments(), 300);
            setTimeout(() => testDifferentFileTypes(), 400);
            setTimeout(() => testDateFormatting(), 500);
            setTimeout(() => testDocumentRemoval(), 600);
            setTimeout(() => testDocumentCounter(), 700);
            setTimeout(() => testDocumentOrder(), 800);
            
            setTimeout(() => {
                logResult('display-controls-result', 'âœ… ×›×œ ×‘×“×™×§×•×ª ×”×ª×¦×•×’×” ×”×•×©×œ××•', 'success');
            }, 900);
        }

        // Create varied test data
        function createVariedTestData() {
            try {
                const now = Date.now();
                const variedDocs = [
                    {
                        id: now + 1,
                        name: '××¦×’×ª-×©×™×¢×•×¨-××ª××˜×™×§×”.pdf',
                        size: 2500000,
                        type: 'application/pdf',
                        savedAt: new Date(now - 86400000).toISOString()
                    },
                    {
                        id: now + 2,
                        name: '×ª×›× ×™×ª-×œ×™××•×“×™×-×©× ×ª×™×ª.docx',
                        size: 1800000,
                        type: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',
                        savedAt: new Date(now - 172800000).toISOString()
                    },
                    {
                        id: now + 3,
                        name: '×¦×™×•× ×™×-×ª×œ××™×“×™×.xlsx',
                        size: 856000,
                        type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
                        savedAt: new Date(now - 259200000).toISOString()
                    },
                    {
                        id: now + 4,
                        name: '×”×•×¨××•×ª-×œ××•×¨×™×.txt',
                        size: 45000,
                        type: 'text/plain',
                        savedAt: new Date(now).toISOString()
                    },
                    {
                        id: now + 5,
                        name: '×ª××•× ×ª-×›×™×ª×”.jpg',
                        size: 3200000,
                        type: 'image/jpeg',
                        savedAt: new Date(now - 345600000).toISOString()
                    }
                ];

                localStorage.setItem(STORAGE_KEY, JSON.stringify(variedDocs));
                
                clearResults('display-controls-result');
                logResult('display-controls-result', `ğŸ“„ × ×•×¦×¨×• ${variedDocs.length} ××¡××›×™× ××’×•×•× ×™×`, 'success');
                logResult('display-controls-result', '×›×¢×ª ×ª×•×›×œ ×œ×¢×‘×•×¨ ×œ-TeacherDashboard ×•×œ×¨××•×ª ××ª ×”×ª×¦×•×’×” ×”××œ××”', 'info');
                
            } catch (error) {
                logResult('display-controls-result', `âŒ ×©×’×™××” ×‘×™×¦×™×¨×ª × ×ª×•× ×™×: ${error.message}`, 'error');
            }
        }

        // Clear all documents
        function clearAllDocuments() {
            try {
                localStorage.removeItem(STORAGE_KEY);
                
                clearResults('display-controls-result');
                logResult('display-controls-result', 'ğŸ—‘ï¸ ×›×œ ×”××¡××›×™× × ××—×§×•', 'success');
                logResult('display-controls-result', '×›×¢×ª ×ª×•×›×œ ×œ×‘×“×•×§ ×ª×¦×•×’×” ×¨×™×§×” ×‘-TeacherDashboard', 'info');
                
            } catch (error) {
                logResult('display-controls-result', `âŒ ×©×’×™××” ×‘××—×™×§×”: ${error.message}`, 'error');
            }
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Show current storage status
            const currentDocs = localStorage.getItem(STORAGE_KEY);
            if (currentDocs) {
                try {
                    const docs = JSON.parse(currentDocs);
                    console.log(`× ××¦××• ${docs.length} ××¡××›×™× ×©××•×¨×™×`);
                } catch (e) {
                    console.log('× ×ª×•× ×™ ××¡××›×™× ×¤×’×•××™×');
                }
            } else {
                console.log('××™×Ÿ ××¡××›×™× ×©××•×¨×™×');
            }
        });
    </script>
</body>
</html>
